# Домашнее задание к занятию "3.7. Компьютерные сети, лекция 2"

1. Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?

    *Linux*

        ip link show

    *Windows*

        ipconfig /all

2. Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?


        Пакет lldpd
        Команда lldpcli sh neigh


3. Какая технология используется для разделения L2 коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.

        Технология Vlan.
        Пакет vlan

        Конфиг

        auto eth1.10
        iface eth1.10 inet static
            address 10.0.0.1
            netmask 255.255.255.0
            vlan-raw-device eth1

4. Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.

   *Какие типы агрегации интерфейсов есть в Linux?*

        2 типа:
        ● статический (на Cisco mode on);
        ● динамический – LACP протокол (на Cisco mode active).

   *Какие опции есть для балансировки нагрузки?*

        mode — определяет политику поведения объединенных интерфейсов. Возможные значения:

        balance-rr(0)	Политика round-robin. Эта политика применяется для балансировки нагрузки и отказоустойчивости.

        active-backup(1) 	Политика активный-резервный. Эта политика применяется для отказоустойчивости.

        balance-xor(2) 	Политика XOR. Передача распределяется между сетевыми картами используя формулу: [( «MAC адрес источника» XOR «MAC адрес назначения») по модулю «число интерфейсов»]. Политика XOR применяется для балансировки нагрузки и отказоустойчивости.

        broadcast(3) 	 Широковещательная политика. Передает всё на все сетевые интерфейсы. Эта политика применяется для отказоустойчивости.

        802.3ad(4) 	Политика агрегирования каналов по стандарту IEEE 802.3ad. Создаются агрегированные группы сетевых карт с одинаковой скоростью и дуплексом. При таком объединении передача задействует все каналы в активной агрегации, согласно стандарту IEEE 802.3ad. Выбор через какой интерфейс отправлять пакет определяется политикой, по умолчанию XOR политика, можно использовать «xmit_hash» политику.

        balance-tlb(5)	Политика адаптивной балансировки нагрузки передачи. Исходящий трафик распределяется в зависимости от загруженности каждой сетевой карты (определяется скоростью загрузки). Не требует дополнительной настройки на коммутаторе. Входящий трафик приходит на текущую сетевую карту. Если она выходит из строя, то другая сетевая карта берёт себе MAC адрес вышедшей из строя карты.

    *Приведите пример конфига.*

        auto bond0
        iface bond0 inet static
                address 192.168.1.150
                netmask 255.255.255.0
                gateway 192.168.1.1
                dns-nameservers 192.168.1.1 8.8.8.8
                dns-search domain.local
                        slaves eth0 eth1
                        bond_mode 0
                        bond-miimon 100
                        bond_downdelay 200
                        bond_updelay 200

5. Сколько IP адресов в сети с маской /29 ? Сколько /29 подсетей можно получить из сети с маской /24. Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24.

        В сети с маской 29 восемь адресов, использовать можно шесть, 2 под network и broadcast адреса

        Сеть с маской /24 можно разбить на 32 подсети с маской /29.

        Например:

        10.10.10.7/29
        10.10.10.48/29
        10.10.10.184/29
        10.10.10.232/29


6. Задача: вас попросили организовать стык между 2-мя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты. Из какой подсети допустимо взять частные IP адреса? Маску выберите из расчета максимум 40-50 хостов внутри подсети.

        100.64.0.0/26 - 62 хоста

7. Как проверить ARP таблицу в Linux, Windows? Как очистить ARP кеш полностью? Как из ARP таблицы удалить только один нужный IP?

        Проверить таблицу:

        Linux: ip neigh, arp -n
        Windows: arp -a

        Очистить кеш:

        Linux: ip neigh flush
        Windows: arp -d *

        Удалить один IP:

        Linux: ip neigh delete <IP> dev <INTERFACE>, arp -d <IP>
        Windows: arp -d <IP>
